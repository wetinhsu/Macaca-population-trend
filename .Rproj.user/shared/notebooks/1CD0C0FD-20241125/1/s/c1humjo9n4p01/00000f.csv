"0",""
"0",""
"0","weight_F <- "
"0","  M.data_F %>% "
"0","  setDT  %>% "
"0","  .[, Region2 := as.character(Region2)]%>% "
"0","  .[is.na(Macaca_sur), Macaca_sur := 0] %>% "
"0","  #.[Year < 2019,] %>%"
"0","  .[!(TypeName.1 %in% ""Not forest""), ] %>% "
"0","  .[, SP := paste0(Site_N,""-"",Point)]  %>%"
"0","  .[, list(Year, SP, Survey, Region2)] %>%"
"0","  .[, .(point_n = .N), by = list(Year, SP, Region2)] %>% "
"0","  .[, SP_n := .N, by = list(Year,Region2)] %>%"
"0","  left_join(county.area)  %>% setDT %>%"
"0","  .[, weight := (prob_Area / SP_n /point_n)]  "
"2","Joining with `by = join_by(Region2)`"
"0","df_F <- "
"0","  M.data_F %>% "
"0","  setDT %>% "
"0","  .[is.na(Macaca_sur), Macaca_sur := 0] %>% "
"0","#  .[Year >2020 & Year < 2024,] %>%"
"0","  .[!(TypeName.1 %in% ""Not forest""), ] %>% "
"0","  .[, SP := paste0(Site_N,""-"",Point)] %>% "
"0","  .[, .(number = sum(Macaca_sur)), by = list(Year, SP, Region2, Altitude)] %>% "
"0","  .[, N := sum(number), by = list(SP, Region2)] %>% "
"0","  left_join(weight_F[, c(1:2, 8)])  %>% setDT %>%"
"0","  .[!(N %in% 0),] %>% "
"0","  .[, N := NULL] %>% "
"0","  .[, Region2 := factor(Region2)] %>% "
"0","  .[,Altitude := NULL] %>% "
"0","  setDF "
"2","Joining with `by = join_by(Year, SP)`"
